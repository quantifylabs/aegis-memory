---
title: 'CLI Reference'
description: 'Complete reference for the Aegis Memory command-line interface'
---

# CLI Reference

Complete reference for the Aegis Memory command-line interface.

## Installation

```bash
pip install aegis-memory
```

## Configuration

### `aegis init`

Top-level setup wizard with lightweight framework detection (LangChain/CrewAI) and config bootstrap.

```bash
aegis init              # Interactive wizard
aegis init -y           # Non-interactive defaults
```

### `aegis new`

Generate starter boilerplate from templates.

```bash
aegis new customer-support
aegis new customer-support -o ./examples
```

### `aegis explore`

Interactive memory browser from your terminal.

```bash
aegis explore
aegis explore -q "login failures" -k 10
```

### `aegis config init`

Interactive first-run setup.

```bash
aegis config init          # Interactive
aegis config init -y       # Use defaults (non-interactive)
```

### `aegis config show`

Display current configuration.

```bash
aegis config show
```

### `aegis config set`

Set a configuration value.

```bash
aegis config set output.format json
aegis config set profiles.local.api_url http://localhost:8000
```

## Server Status

### `aegis status`

Check server health and connection.

```bash
aegis status           # Pretty output
aegis status -j        # JSON output
aegis status -q        # Quiet (exit code only)
```

**Exit codes:**
- `0` - Server healthy
- `1` - Server unhealthy
- `2` - Connection failed

### `aegis stats`

Show namespace statistics.

```bash
aegis stats                    # Default namespace
aegis stats -n production      # Specific namespace
aegis stats -a executor        # Filter by agent
```

## Memory Operations

### `aegis add`

Add a memory.

```bash
aegis add "Memory content"                    # Basic
aegis add "Strategy" -t strategy -s global    # Strategy with global scope
aegis add -f ./insight.txt -t reflection      # From file
echo "Piped" | aegis add                      # From stdin
```

**Options:**

| Flag | Short | Description |
|------|-------|-------------|
| `--agent` | `-a` | Agent ID |
| `--user` | `-u` | User ID |
| `--namespace` | `-n` | Namespace |
| `--scope` | `-s` | Scope: `agent-private`, `agent-shared`, `global` |
| `--type` | `-t` | Type: `standard`, `strategy`, `reflection` |
| `--share-with` | | Agent IDs to share with |
| `--metadata` | `-m` | JSON metadata |

### `aegis query`

Semantic search for memories.

```bash
aegis query "search text"                     # Basic search
aegis query "patterns" -t strategy -k 5       # Filter by type
aegis query "task" -x planner,coordinator     # Cross-agent query
aegis query "test" --ids-only                 # IDs only for scripting
```

**Options:**

| Flag | Short | Description |
|------|-------|-------------|
| `--top-k` | `-k` | Number of results (default: 10) |
| `--min-score` | | Minimum similarity score |
| `--type` | `-t` | Filter by memory type |
| `--cross-agent` | `-x` | Query across these agents |
| `--full` | | Show full content |

### `aegis get`

Get a single memory by ID.

```bash
aegis get 7f3a8b2c1d4e                        # Pretty output
aegis get 7f3a8b2c1d4e -j                     # JSON output
aegis get 7f3a8b2c1d4e --content-only         # Content only
```

### `aegis delete`

Delete a memory.

```bash
aegis delete 7f3a8b2c1d4e                     # With confirmation
aegis delete 7f3a8b2c1d4e -f                  # Force (no confirmation)
```

## Voting

### `aegis vote`

Vote on memory usefulness.

```bash
aegis vote <id> helpful                       # Vote helpful
aegis vote <id> harmful -c "Caused bug"       # Vote harmful with context
```

**Options:**

| Flag | Short | Description |
|------|-------|-------------|
| `--voter` | `-v` | Voting agent ID |
| `--context` | `-c` | Why this vote |
| `--task` | `-t` | Related task/feature ID |

## Playbook

### `aegis playbook`

Query proven strategies and reflections.

```bash
aegis playbook "error handling"               # Search playbook
aegis playbook "API" -t strategy -e 0.5       # Only high-rated strategies
```

**Options:**

| Flag | Short | Description |
|------|-------|-------------|
| `--top-k` | `-k` | Number of results (default: 20) |
| `--min-effectiveness` | `-e` | Minimum effectiveness score |
| `--type` | `-t` | `strategy`, `reflection`, or both |

## Session Progress

### `aegis progress create`

Create a new session.

```bash
aegis progress create build-api -a executor
aegis progress create feature-x -s "Building feature X" -t 5
```

### `aegis progress update`

Update session progress.

```bash
aegis progress update build-api -c auth -c routing
aegis progress update build-api -i api-client
aegis progress update build-api -b "payments:Waiting for API keys"
```

### `aegis progress show`

Show session details.

```bash
aegis progress show build-dashboard
```

## Feature Tracking

### `aegis features create`

Create a feature.

```bash
aegis features create user-auth \
    -d "User authentication with JWT" \
    -c auth \
    -t "Can login" \
    -t "Can logout"
```

### `aegis features verify`

Mark feature as passing.

```bash
aegis features verify user-auth --by qa-agent
```

### `aegis features fail`

Mark feature as failed.

```bash
aegis features fail 2fa-totp -r "TOTP validation fails"
```

## Data Management

### `aegis export`

Export memories to file.

```bash
aegis export > backup.jsonl                   # To stdout
aegis export -o backup.jsonl                  # To file
aegis export -n prod -f json -o prod.json     # JSON format
```

### `aegis import`

Import memories from file.

```bash
aegis import backup.jsonl                     # Import from file
aegis import backup.jsonl -n staging          # Override namespace
aegis import backup.jsonl --dry-run           # Validate only
```

## Environment Variables

| Variable | Description |
|----------|-------------|
| `AEGIS_API_KEY` | API key (highest priority) |
| `AEGIS_API_URL` | Server URL |
| `AEGIS_PROFILE` | Active profile |
| `AEGIS_NAMESPACE` | Default namespace |
| `AEGIS_AGENT_ID` | Default agent ID |

## Exit Codes

| Code | Meaning |
|------|---------|
| 0 | Success |
| 1 | General error |
| 2 | Connection error |
| 3 | Authentication error |
| 4 | Not found |
| 5 | Validation error |
